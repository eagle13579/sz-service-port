# ä¾›åº”é“¾å¹³å° - é¡¹ç›®å¯åŠ¨æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

ä¾›åº”é“¾å¹³å°æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¾›åº”å•†ç®¡ç†ç³»ç»Ÿï¼Œå®ç°äº†ä¾›åº”å•†å…¥é©»ã€äº§å“å‘å¸ƒã€ä»»åŠ¡å‘å¸ƒä¸å¯¹æ¥ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Vue 3 + Element Plus + Vite
- **åç«¯**: Node.js + Express
- **æ•°æ®åº“**: MySQL

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 16.x
- MySQL >= 5.7
- npm æˆ– yarn

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åç«¯ä¾èµ–
cd backend
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

### 2. é…ç½®æ•°æ®åº“

#### 2.1 åˆ›å»ºæ•°æ®åº“

```sql
CREATE DATABASE supply_chain_platform CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

#### 2.2 æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬

```bash
mysql -u your_username -p supply_chain_platform < database/init.sql
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

#### åç«¯é…ç½®ï¼ˆbackend/.envï¼‰

```env
# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_USER=your_username
DB_PASSWORD=your_password
DB_NAME=supply_chain_platform

# JWTå¯†é’¥
JWT_SECRET=your_jwt_secret_key_change_this_in_production

# æ–‡ä»¶ä¸Šä¼ è·¯å¾„
UPLOAD_PATH=./uploads
```

**é‡è¦**: è¯·å°† `your_username` å’Œ `your_password` æ›¿æ¢ä¸ºå®é™…çš„ MySQL ç”¨æˆ·åå’Œå¯†ç ï¼Œå°† `your_jwt_secret_key_change_this_in_production` æ›¿æ¢ä¸ºå¼ºå¯†ç ã€‚

### 4. åˆ›å»ºä¸Šä¼ ç›®å½•

```bash
cd backend
mkdir -p uploads/products
```

### 5. å¯åŠ¨é¡¹ç›®

#### æ–¹å¼ä¸€ï¼šåˆ†åˆ«å¯åŠ¨

**å¯åŠ¨åç«¯æœåŠ¡**

```bash
cd backend
npm run dev
```

åç«¯æœåŠ¡å°†è¿è¡Œåœ¨: http://localhost:3000

**å¯åŠ¨å‰ç«¯æœåŠ¡**

æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
cd frontend
npm run dev
```

å‰ç«¯æœåŠ¡å°†è¿è¡Œåœ¨: http://localhost:5173

#### æ–¹å¼äºŒï¼šä½¿ç”¨ PM2ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨åç«¯
cd backend
pm2 start app.js --name "supply-chain-backend"

# å¯åŠ¨å‰ç«¯
cd frontend
pm2 start 'npm run dev' --name "supply-chain-frontend"
```

---

## ğŸ“± ä½¿ç”¨æŒ‡å—

### 1. ç”¨æˆ·æ³¨å†Œ

é¦–æ¬¡ä½¿ç”¨éœ€è¦å…ˆæ³¨å†Œè´¦å·ï¼š

1. è®¿é—® http://localhost:5173/register
2. å¡«å†™æ³¨å†Œä¿¡æ¯ï¼š
   - ç”¨æˆ·å
   - é‚®ç®±
   - æ‰‹æœºå·
   - å¯†ç 
   - è§’è‰²ï¼ˆé»˜è®¤ä¸ºä¾›åº”å•†ï¼‰

### 2. ä¾›åº”å•†å…¥é©»

æ³¨å†ŒæˆåŠŸåï¼Œéœ€è¦è¿›è¡Œä¾›åº”å•†å…¥é©»ï¼š

1. è®¿é—® http://localhost:5173/supplier-register
2. å¡«å†™ä¼ä¸šä¿¡æ¯ï¼š
   - åŸºæœ¬ä¿¡æ¯ï¼ˆå…¬å¸åç§°ã€è”ç³»äººã€ç”µè¯ç­‰ï¼‰
   - å…¬å¸åœ°å€ï¼ˆçœä»½ã€åŸå¸‚ã€è¯¦ç»†åœ°å€ï¼‰
   - ä¼ä¸šä¿¡æ¯ï¼ˆè¡Œä¸šã€ç®€ä»‹ã€ä¸»è¥äº§å“ç­‰ï¼‰
3. æäº¤ç”³è¯·ï¼Œç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸

### 3. ç™»å½•ç³»ç»Ÿ

1. è®¿é—® http://localhost:5173/login
2. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
3. ç™»å½•æˆåŠŸåè·³è½¬åˆ°ä¾›åº”å•†å·¥ä½œå°

### 4. å‘å¸ƒäº§å“

1. è¿›å…¥"äº§å“ç®¡ç†"é¡µé¢
2. ç‚¹å‡»"å‘å¸ƒäº§å“"
3. å¡«å†™äº§å“ä¿¡æ¯ï¼š
   - äº§å“åç§°
   - äº§å“åˆ†ç±»
   - ä»·æ ¼
   - åº“å­˜
   - äº§å“æè¿°
   - ä¸Šä¼ äº§å“å›¾ç‰‡
   - æ·»åŠ äº§å“æ ‡ç­¾
4. ç‚¹å‡»"å‘å¸ƒäº§å“"ï¼Œç­‰å¾…å®¡æ ¸

### 5. å‘å¸ƒä»»åŠ¡

1. è¿›å…¥"ä»»åŠ¡ç®¡ç†"é¡µé¢
2. ç‚¹å‡»"å‘å¸ƒä»»åŠ¡"
3. å¡«å†™ä»»åŠ¡ä¿¡æ¯ï¼š
   - ä»»åŠ¡æ ‡é¢˜
   - ä»»åŠ¡ç±»å‹
   - é¢„ç®—
   - æˆªæ­¢æ—¥æœŸ
   - ä»»åŠ¡æè¿°
   - æŠ€èƒ½è¦æ±‚
   - äº¤ä»˜æ ‡å‡†ç­‰
4. ç‚¹å‡»"å‘å¸ƒä»»åŠ¡"

---

## ğŸ› ï¸ API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- Base URL: `http://localhost:3000`
- è®¤è¯æ–¹å¼: JWT Bearer Token

### ç”¨æˆ·è®¤è¯

#### æ³¨å†Œ
```
POST /api/auth/register
Content-Type: application/json

{
  "username": "supplier001",
  "email": "supplier@example.com",
  "phone": "13800138000",
  "password": "123456",
  "role": "supplier"
}
```

#### ç™»å½•
```
POST /api/auth/login
Content-Type: application/json

{
  "username": "supplier001",
  "password": "123456"
}
```

### ä¾›åº”å•†ç®¡ç†

#### æäº¤å…¥é©»ç”³è¯·
```
POST /api/suppliers/register
Authorization: Bearer {token}
Content-Type: application/json

{
  "company_name": "æŸæŸç§‘æŠ€æœ‰é™å…¬å¸",
  "contact_person": "å¼ ä¸‰",
  "contact_phone": "13800138000",
  "contact_email": "contact@example.com",
  "address": "ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒº",
  "industry": "ç”µå­",
  "company_intro": "å…¬å¸ç®€ä»‹..."
}
```

### äº§å“ç®¡ç†

#### å‘å¸ƒäº§å“
```
POST /api/products
Authorization: Bearer {token}
Content-Type: multipart/form-data

{
  "product_name": "æ™ºèƒ½æ‰‹è¡¨",
  "product_desc": "äº§å“æè¿°...",
  "price": 299.99,
  "stock": 100,
  "category_id": 1,
  "images": [file1, file2],
  "specifications": {...},
  "tags": ["æ–°å“ä¸Šå¸‚", "çƒ­é”€"]
}
```

### ä»»åŠ¡ç®¡ç†

#### å‘å¸ƒä»»åŠ¡
```
POST /api/tasks
Authorization: Bearer {token}
Content-Type: application/json

{
  "task_title": "å¸‚åœºè°ƒç ”ä»»åŠ¡",
  "task_desc": "ä»»åŠ¡æè¿°...",
  "task_type": "market",
  "budget": 5000,
  "deadline": "2026-02-01",
  "skill_requirements": "å¸‚åœºè°ƒç ”ç»éªŒ",
  "delivery_standards": "äº¤ä»˜æ ‡å‡†..."
}
```

æ›´å¤šæ¥å£è¯¦æƒ…è¯·å‚è€ƒ `ä¾›åº”é“¾å¹³å°å¼€å‘æ–¹æ¡ˆ.md`

---

## ğŸ“Š æ•°æ®åº“ç»“æ„

### æ ¸å¿ƒæ•°æ®è¡¨

1. **users** - ç”¨æˆ·è¡¨
   - å­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯å’Œè®¤è¯ä¿¡æ¯

2. **suppliers** - ä¾›åº”å•†è¡¨
   - å­˜å‚¨ä¾›åº”å•†ä¼ä¸šä¿¡æ¯å’Œå®¡æ ¸çŠ¶æ€

3. **products** - äº§å“è¡¨
   - å­˜å‚¨äº§å“ä¿¡æ¯ã€ä»·æ ¼ã€åº“å­˜ç­‰

4. **product_categories** - äº§å“åˆ†ç±»è¡¨
   - å­˜å‚¨äº§å“åˆ†ç±»ä¿¡æ¯

5. **tasks** - ä»»åŠ¡è¡¨
   - å­˜å‚¨ä»»åŠ¡ä¿¡æ¯å’ŒçŠ¶æ€

6. **brand_services** - å“ç‰ŒæœåŠ¡è¡¨
   - å­˜å‚¨å“ç‰ŒæœåŠ¡ä¿¡æ¯

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

**é—®é¢˜**: å¯åŠ¨åç«¯æ—¶æç¤ºæ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“ `supply_chain_platform` å·²åˆ›å»º

### 2. ç«¯å£è¢«å ç”¨

**é—®é¢˜**: å¯åŠ¨æœåŠ¡æ—¶æç¤ºç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :3000  # Windows
lsof -i :3000                  # Mac/Linux

# ç»“æŸè¿›ç¨‹æˆ–ä¿®æ”¹ç«¯å£
```

### 3. æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**é—®é¢˜**: ä¸Šä¼ å›¾ç‰‡æ—¶æç¤ºå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤ `backend/uploads/products` ç›®å½•å·²åˆ›å»º
- æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶ï¼ˆ5MBï¼‰
- ç¡®è®¤ä¸Šä¼ çš„æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆjpg/png/gifï¼‰

### 4. JWT Token è¿‡æœŸ

**é—®é¢˜**: API è¯·æ±‚æ—¶æç¤º token æ— æ•ˆ

**è§£å†³æ–¹æ¡ˆ**:
- Token é»˜è®¤æœ‰æ•ˆæœŸä¸º 7 å¤©
- é‡æ–°ç™»å½•è·å–æ–°çš„ token
- åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åº”ä½¿ç”¨åˆ·æ–° token æœºåˆ¶

---

## ğŸ“ å¼€å‘å»ºè®®

### ä»£ç è§„èŒƒ

1. **åç«¯**
   - ä½¿ç”¨ async/await å¤„ç†å¼‚æ­¥æ“ä½œ
   - ç»Ÿä¸€é”™è¯¯å¤„ç†
   - ä½¿ç”¨å‚æ•°éªŒè¯

2. **å‰ç«¯**
   - ä½¿ç”¨ Composition API
   - ç»„ä»¶åŒ–å¼€å‘
   - ç»Ÿä¸€çš„é”™è¯¯æç¤º

### æ€§èƒ½ä¼˜åŒ–

1. ä½¿ç”¨ Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®
2. å›¾ç‰‡å‹ç¼©å’Œæ‡’åŠ è½½
3. API æ¥å£åˆ†é¡µå¤„ç†
4. å‰ç«¯è·¯ç”±æ‡’åŠ è½½

### å®‰å…¨å»ºè®®

1. ç”Ÿäº§ç¯å¢ƒä¿®æ”¹ JWT_SECRET
2. ä½¿ç”¨ HTTPS
3. å®æ–½ SQL æ³¨å…¥é˜²æŠ¤
4. å®æ–½ XSS æ”»å‡»é˜²æŠ¤

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å‰ç«¯éƒ¨ç½²

```bash
cd frontend
npm run build
```

å°† `dist` ç›®å½•éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨æˆ– CDN

### åç«¯éƒ¨ç½²

1. ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹
2. é…ç½® Nginx åå‘ä»£ç†
3. å¯ç”¨ HTTPS
4. é…ç½®æ—¥å¿—ç®¡ç†

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. æ—¥å¿—æ–‡ä»¶ï¼ˆ`logs/` ç›®å½•ï¼‰
2. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. åç«¯ç»ˆç«¯è¾“å‡º

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
