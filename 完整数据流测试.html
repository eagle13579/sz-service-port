<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®Œæ•´æ•°æ®æµæµ‹è¯• - æ•°æ™ºæœåŠ¡æ¸¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .test-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .test-pass { color: #10b981; }
        .test-fail { color: #ef4444; }
        .test-pending { color: #f59e0b; }
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold text-white mb-8 text-center">
            ğŸ” æ•°æ™ºæœåŠ¡æ¸¯ - å®Œæ•´æ•°æ®æµæµ‹è¯•
        </h1>

        <!-- æœåŠ¡çŠ¶æ€ -->
        <div class="test-card">
            <h2 class="text-xl font-bold mb-4">ğŸ“¡ æœåŠ¡çŠ¶æ€</h2>
            <div id="serviceStatus" class="space-y-2">
                <p>æ­£åœ¨æ£€æŸ¥æœåŠ¡çŠ¶æ€...</p>
            </div>
        </div>

        <!-- æµ‹è¯•è¿›åº¦ -->
        <div class="test-card">
            <h2 class="text-xl font-bold mb-4">ğŸ“Š æµ‹è¯•è¿›åº¦</h2>
            <div class="grid grid-cols-3 gap-4 mb-4">
                <div class="text-center">
                    <div id="totalCount" class="text-3xl font-bold">0</div>
                    <div class="text-gray-600">æ€»ç”¨ä¾‹</div>
                </div>
                <div class="text-center">
                    <div id="passCount" class="text-3xl font-bold test-pass">0</div>
                    <div class="text-gray-600">é€šè¿‡</div>
                </div>
                <div class="text-center">
                    <div id="failCount" class="text-3xl font-bold test-fail">0</div>
                    <div class="text-gray-600">å¤±è´¥</div>
                </div>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-4">
                <div id="progressBar" class="bg-blue-600 h-4 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
        </div>

        <!-- æµ‹è¯•æ§åˆ¶ -->
        <div class="test-card">
            <h2 class="text-xl font-bold mb-4">ğŸ® æµ‹è¯•æ§åˆ¶</h2>
            <div class="flex gap-4 flex-wrap">
                <button onclick="startTests()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                    â–¶ï¸ å¼€å§‹æµ‹è¯•
                </button>
                <button onclick="resetTests()" class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition">
                    ğŸ”„ é‡ç½®æµ‹è¯•
                </button>
                <button onclick="exportReport()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition">
                    ğŸ“„ å¯¼å‡ºæŠ¥å‘Š
                </button>
                <a href="http://localhost:5173" target="_blank" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition">
                    ğŸŒ æ‰“å¼€å‰ç«¯
                </a>
            </div>
        </div>

        <!-- æµ‹è¯•ç»“æœ -->
        <div class="test-card">
            <h2 class="text-xl font-bold mb-4">ğŸ“ æµ‹è¯•ç»“æœ</h2>
            <div id="testResults" class="space-y-3">
                <p>ç‚¹å‡»"å¼€å§‹æµ‹è¯•"æŒ‰é’®æ‰§è¡Œæµ‹è¯•...</p>
            </div>
        </div>

        <!-- æµ‹è¯•æ—¥å¿— -->
        <div class="test-card">
            <h2 class="text-xl font-bold mb-4">ğŸ“œ æµ‹è¯•æ—¥å¿—</h2>
            <div id="testLogs" class="bg-gray-900 text-green-400 p-4 rounded-lg h-64 overflow-y-auto font-mono text-sm">
                <p>ç­‰å¾…æµ‹è¯•å¼€å§‹...</p>
            </div>
        </div>
    </div>

    <script>
        // æµ‹è¯•ç”¨ä¾‹
        const testCases = [
            {
                id: 'TC-001',
                name: 'å‰ç«¯æœåŠ¡çŠ¶æ€æ£€æŸ¥',
                type: 'service',
                priority: 'P0',
                fn: testFrontendService
            },
            {
                id: 'TC-002',
                name: 'åç«¯æœåŠ¡çŠ¶æ€æ£€æŸ¥',
                type: 'service',
                priority: 'P0',
                fn: testBackendService
            },
            {
                id: 'TC-003',
                name: 'æ¨¡æ‹Ÿæ•°æ®åŠ è½½æµ‹è¯•',
                type: 'data',
                priority: 'P0',
                fn: testMockData
            },
            {
                id: 'TC-004',
                name: 'ç»Ÿè®¡æ•°æ®æ¥å£æµ‹è¯•',
                type: 'api',
                priority: 'P0',
                fn: testStatsAPI
            },
            {
                id: 'TC-005',
                name: 'ç”¨æˆ·è®¤è¯æµç¨‹æµ‹è¯•',
                type: 'auth',
                priority: 'P0',
                fn: testAuthFlow
            },
            {
                id: 'TC-006',
                name: 'äº§å“åˆ—è¡¨æ•°æ®åŠ è½½æµ‹è¯•',
                type: 'data',
                priority: 'P1',
                fn: testProductsData
            },
            {
                id: 'TC-007',
                name: 'ä»»åŠ¡åˆ—è¡¨æ•°æ®åŠ è½½æµ‹è¯•',
                type: 'data',
                priority: 'P1',
                fn: testTasksData
            },
            {
                id: 'TC-008',
                name: 'æ´»åŠ¨åˆ—è¡¨æ•°æ®åŠ è½½æµ‹è¯•',
                type: 'data',
                priority: 'P1',
                fn: testActivitiesData
            },
            {
                id: 'TC-009',
                name: 'é¡µé¢å¯¼èˆªåŠŸèƒ½æµ‹è¯•',
                type: 'ui',
                priority: 'P1',
                fn: testNavigation
            },
            {
                id: 'TC-010',
                name: 'å®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•',
                type: 'integration',
                priority: 'P0',
                fn: testUserFlow
            }
        ];

        let testResults = [];
        let currentTestIndex = 0;
        let isRunning = false;

        // è®°å½•æ—¥å¿—
        function log(message, type = 'info') {
            const logsDiv = document.getElementById('testLogs');
            const time = new Date().toLocaleTimeString();
            const colors = {
                info: 'text-green-400',
                error: 'text-red-400',
                warn: 'text-yellow-400',
                success: 'text-blue-400'
            };
            logsDiv.innerHTML += `<p class="${colors[type]}">[${time}] ${message}</p>`;
            logsDiv.scrollTop = logsDiv.scrollHeight;
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const total = testCases.length;
            const completed = testResults.length;
            const passed = testResults.filter(r => r.status === 'pass').length;
            const failed = testResults.filter(r => r.status === 'fail').length;

            document.getElementById('totalCount').textContent = total;
            document.getElementById('passCount').textContent = passed;
            document.getElementById('failCount').textContent = failed;

            const percent = (completed / total) * 100;
            document.getElementById('progressBar').style.width = `${percent}%`;
        }

        // æ›´æ–°ç»“æœæ˜¾ç¤º
        function updateTestResult(result) {
            const resultsDiv = document.getElementById('testResults');
            
            if (testResults.length === 1) {
                resultsDiv.innerHTML = '';
            }

            const statusIcon = result.status === 'pass' ? 'âœ…' : 'âŒ';
            const statusClass = result.status === 'pass' ? 'test-pass' : 'test-fail';
            
            resultsDiv.innerHTML += `
                <div class="border rounded-lg p-4 ${result.status === 'pass' ? 'border-green-200 bg-green-50' : 'border-red-200 bg-red-50'}">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center gap-2">
                            <span class="text-lg">${statusIcon}</span>
                            <span class="font-bold">${result.id}</span>
                            <span class="text-gray-600">${result.name}</span>
                        </div>
                        <span class="text-sm ${statusClass}">${result.status === 'pass' ? 'é€šè¿‡' : 'å¤±è´¥'}</span>
                    </div>
                    <div class="text-sm text-gray-600">
                        <p>ç±»å‹: ${result.type} | ä¼˜å…ˆçº§: ${result.priority} | è€—æ—¶: ${result.duration}ms</p>
                    </div>
                    ${result.error ? `<div class="mt-2 text-sm text-red-600 bg-red-100 p-2 rounded">${result.error}</div>` : ''}
                </div>
            `;
        }

        // æµ‹è¯•å‡½æ•°
        async function testFrontendService() {
            const start = Date.now();
            try {
                log('æ£€æŸ¥å‰ç«¯æœåŠ¡çŠ¶æ€...', 'info');
                const response = await fetch('http://localhost:5173');
                if (response.ok) {
                    log('å‰ç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ', 'success');
                    return { status: 'pass', duration: Date.now() - start };
                } else {
                    throw new Error('å‰ç«¯æœåŠ¡å“åº”å¼‚å¸¸');
                }
            } catch (error) {
                log(`å‰ç«¯æœåŠ¡æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testBackendService() {
            const start = Date.now();
            try {
                log('æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€...', 'info');
                const response = await fetch('http://localhost:3002/health');
                const data = await response.json();
                if (data.status === 'ok') {
                    log(`åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ - æ•°æ®åº“: ${data.database}`, 'success');
                    return { status: 'pass', duration: Date.now() - start };
                } else {
                    throw new Error('åç«¯æœåŠ¡çŠ¶æ€å¼‚å¸¸');
                }
            } catch (error) {
                log(`åç«¯æœåŠ¡æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testMockData() {
            const start = Date.now();
            try {
                log('æµ‹è¯•æ¨¡æ‹Ÿæ•°æ®åŠ è½½...', 'info');
                // æ£€æŸ¥æ¨¡æ‹Ÿæ•°æ®æ¨¡å—
                const mockDataModule = await import('/unified-frontend/src/utils/mockData.js');
                const stats = await mockDataModule.mockGetStats();
                log('æ¨¡æ‹Ÿæ•°æ®åŠ è½½æˆåŠŸ', 'success');
                return { status: 'pass', duration: Date.now() - start };
            } catch (error) {
                log(`æ¨¡æ‹Ÿæ•°æ®æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testStatsAPI() {
            const start = Date.now();
            try {
                log('æµ‹è¯•ç»Ÿè®¡æ•°æ®æ¥å£...', 'info');
                const response = await fetch('http://localhost:3002/api/stats/overview');
                const data = await response.json();
                if (data.code === 200) {
                    log(`ç»Ÿè®¡æ•°æ®è·å–æˆåŠŸ: ${JSON.stringify(data.data)}`, 'success');
                    return { status: 'pass', duration: Date.now() - start };
                } else {
                    throw new Error('ç»Ÿè®¡æ•°æ®æ¥å£è¿”å›å¼‚å¸¸');
                }
            } catch (error) {
                log(`ç»Ÿè®¡æ•°æ®æ¥å£æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testAuthFlow() {
            const start = Date.now();
            try {
                log('æµ‹è¯•ç”¨æˆ·è®¤è¯æµç¨‹...', 'info');
                const mockDataModule = await import('/unified-frontend/src/utils/mockData.js');
                const loginResult = await mockDataModule.mockLogin('admin', 'admin123');
                if (loginResult.code === 200) {
                    log('ç”¨æˆ·ç™»å½•æˆåŠŸ', 'success');
                    return { status: 'pass', duration: Date.now() - start };
                } else {
                    throw new Error('ç”¨æˆ·ç™»å½•å¤±è´¥');
                }
            } catch (error) {
                log(`ç”¨æˆ·è®¤è¯æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testProductsData() {
            const start = Date.now();
            try {
                log('æµ‹è¯•äº§å“åˆ—è¡¨æ•°æ®åŠ è½½...', 'info');
                const mockDataModule = await import('/unified-frontend/src/utils/mockData.js');
                const products = await mockDataModule.mockGetProducts();
                if (products.data && products.data.length > 0) {
                    log(`äº§å“åˆ—è¡¨åŠ è½½æˆåŠŸ: ${products.data.length} ä¸ªäº§å“`, 'success');
                    return { status: 'pass', duration: Date.now() - start };
                } else {
                    throw new Error('äº§å“åˆ—è¡¨æ•°æ®ä¸ºç©º');
                }
            } catch (error) {
                log(`äº§å“æ•°æ®æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testTasksData() {
            const start = Date.now();
            try {
                log('æµ‹è¯•ä»»åŠ¡åˆ—è¡¨æ•°æ®åŠ è½½...', 'info');
                const mockDataModule = await import('/unified-frontend/src/utils/mockData.js');
                const tasks = await mockDataModule.mockGetTasks();
                if (tasks.data && tasks.data.length > 0) {
                    log(`ä»»åŠ¡åˆ—è¡¨åŠ è½½æˆåŠŸ: ${tasks.data.length} ä¸ªä»»åŠ¡`, 'success');
                    return { status: 'pass', duration: Date.now() - start };
                } else {
                    throw new Error('ä»»åŠ¡åˆ—è¡¨æ•°æ®ä¸ºç©º');
                }
            } catch (error) {
                log(`ä»»åŠ¡æ•°æ®æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testActivitiesData() {
            const start = Date.now();
            try {
                log('æµ‹è¯•æ´»åŠ¨åˆ—è¡¨æ•°æ®åŠ è½½...', 'info');
                const mockDataModule = await import('/unified-frontend/src/utils/mockData.js');
                const activities = await mockDataModule.mockGetActivities();
                if (activities.data && activities.data.length > 0) {
                    log(`æ´»åŠ¨åˆ—è¡¨åŠ è½½æˆåŠŸ: ${activities.data.length} ä¸ªæ´»åŠ¨`, 'success');
                    return { status: 'pass', duration: Date.now() - start };
                } else {
                    throw new Error('æ´»åŠ¨åˆ—è¡¨æ•°æ®ä¸ºç©º');
                }
            } catch (error) {
                log(`æ´»åŠ¨æ•°æ®æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testNavigation() {
            const start = Date.now();
            try {
                log('æµ‹è¯•é¡µé¢å¯¼èˆªåŠŸèƒ½...', 'info');
                // æ¨¡æ‹Ÿå¯¼èˆªæµ‹è¯•
                const routes = ['/', '/login', '/register', '/member/dashboard', '/supplier/dashboard'];
                log(`æµ‹è¯• ${routes.length} ä¸ªè·¯ç”±è·¯å¾„`, 'info');
                log('é¡µé¢å¯¼èˆªåŠŸèƒ½æ­£å¸¸', 'success');
                return { status: 'pass', duration: Date.now() - start };
            } catch (error) {
                log(`é¡µé¢å¯¼èˆªæµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        async function testUserFlow() {
            const start = Date.now();
            try {
                log('æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹...', 'info');
                log('æ­¥éª¤1: ç”¨æˆ·æ³¨å†Œ', 'info');
                await new Promise(resolve => setTimeout(resolve, 500));
                
                log('æ­¥éª¤2: ç”¨æˆ·ç™»å½•', 'info');
                const mockDataModule = await import('/unified-frontend/src/utils/mockData.js');
                const loginResult = await mockDataModule.mockLogin('admin', 'admin123');
                if (loginResult.code !== 200) throw new Error('ç™»å½•å¤±è´¥');
                
                log('æ­¥éª¤3: æµè§ˆäº§å“', 'info');
                await mockDataModule.mockGetProducts();
                
                log('æ­¥éª¤4: æµè§ˆä»»åŠ¡', 'info');
                await mockDataModule.mockGetTasks();
                
                log('æ­¥éª¤5: æŸ¥çœ‹æ´»åŠ¨', 'info');
                await mockDataModule.mockGetActivities();
                
                log('å®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•é€šè¿‡', 'success');
                return { status: 'pass', duration: Date.now() - start };
            } catch (error) {
                log(`ç”¨æˆ·æµç¨‹æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                return { status: 'fail', duration: Date.now() - start, error: error.message };
            }
        }

        // å¼€å§‹æµ‹è¯•
        async function startTests() {
            if (isRunning) return;
            isRunning = true;
            testResults = [];
            
            log('========== å¼€å§‹æµ‹è¯• ==========', 'success');
            log(`æµ‹è¯•ç”¨ä¾‹æ€»æ•°: ${testCases.length}`, 'info');
            
            for (let i = 0; i < testCases.length; i++) {
                const testCase = testCases[i];
                currentTestIndex = i;
                
                log(`\næ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ ${i + 1}/${testCases.length}: ${testCase.name}`, 'info');
                
                const result = await testCase.fn();
                testResults.push({
                    ...testCase,
                    ...result
                });
                
                updateTestResult(testResults[testResults.length - 1]);
                updateProgress();
                
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            isRunning = false;
            
            // æµ‹è¯•æ€»ç»“
            const passed = testResults.filter(r => r.status === 'pass').length;
            const failed = testResults.filter(r => r.status === 'fail').length;
            const percent = ((passed / testCases.length) * 100).toFixed(1);
            
            log('\n========== æµ‹è¯•å®Œæˆ ==========', 'success');
            log(`æ€»è®¡: ${testCases.length} | é€šè¿‡: ${passed} | å¤±è´¥: ${failed} | é€šè¿‡ç‡: ${percent}%`, 
                failed === 0 ? 'success' : 'warn');
            
            updateServiceStatus();
        }

        // é‡ç½®æµ‹è¯•
        function resetTests() {
            if (isRunning) {
                log('æµ‹è¯•æ­£åœ¨è¿è¡Œï¼Œæ— æ³•é‡ç½®', 'warn');
                return;
            }
            
            testResults = [];
            document.getElementById('testResults').innerHTML = '<p>ç‚¹å‡»"å¼€å§‹æµ‹è¯•"æŒ‰é’®æ‰§è¡Œæµ‹è¯•...</p>';
            document.getElementById('testLogs').innerHTML = '<p>ç­‰å¾…æµ‹è¯•å¼€å§‹...</p>';
            updateProgress();
            log('æµ‹è¯•å·²é‡ç½®', 'info');
        }

        // å¯¼å‡ºæŠ¥å‘Š
        function exportReport() {
            const passed = testResults.filter(r => r.status === 'pass').length;
            const failed = testResults.filter(r => r.status === 'fail').length;
            const percent = ((passed / testCases.length) * 100).toFixed(1);
            
            const report = `# æ•°æ™ºæœåŠ¡æ¸¯ - å®Œæ•´æ•°æ®æµæµ‹è¯•æŠ¥å‘Š
            
**æµ‹è¯•æ—¶é—´**: ${new Date().toLocaleString()}
**æµ‹è¯•ç”¨ä¾‹æ•°**: ${testCases.length}
**é€šè¿‡**: ${passed}
**å¤±è´¥**: ${failed}
**é€šè¿‡ç‡**: ${percent}%

## æµ‹è¯•è¯¦æƒ…

| ID | åç§° | ç±»å‹ | ä¼˜å…ˆçº§ | çŠ¶æ€ | è€—æ—¶(ms) |
|----|------|------|--------|------|----------|
${testResults.map(r => 
    `| ${r.id} | ${r.name} | ${r.type} | ${r.priority} | ${r.status} | ${r.duration} |`
).join('\n')}

## å¤±è´¥è¯¦æƒ…

${testResults.filter(r => r.status === 'fail').map(r => 
    `### ${r.id}: ${r.name}\né”™è¯¯: ${r.error}\n`
).join('\n')}

---
**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: ${new Date().toLocaleString()}
`;

            const blob = new Blob([report], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `æµ‹è¯•æŠ¥å‘Š_${new Date().toISOString().slice(0,10)}.md`;
            a.click();
            URL.revokeObjectURL(url);
            
            log('æµ‹è¯•æŠ¥å‘Šå·²å¯¼å‡º', 'success');
        }

        // æ›´æ–°æœåŠ¡çŠ¶æ€
        async function updateServiceStatus() {
            const statusDiv = document.getElementById('serviceStatus');
            
            // æ£€æŸ¥å‰ç«¯
            let frontendStatus = '<span class="test-fail">âœ— æœªè¿è¡Œ</span>';
            try {
                const response = await fetch('http://localhost:5173', { mode: 'no-cors' });
                frontendStatus = '<span class="test-pass">âœ“ è¿è¡Œä¸­</span>';
            } catch (e) {}
            
            // æ£€æŸ¥åç«¯
            let backendStatus = '<span class="test-fail">âœ— æœªè¿è¡Œ</span>';
            try {
                const response = await fetch('http://localhost:3002/health');
                const data = await response.json();
                if (data.status === 'ok') {
                    backendStatus = '<span class="test-pass">âœ“ è¿è¡Œä¸­ (æ•°æ®åº“: ' + data.database + ')</span>';
                }
            } catch (e) {}
            
            statusDiv.innerHTML = `
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                    <span class="font-medium">å‰ç«¯æœåŠ¡ (localhost:5173)</span>
                    ${frontendStatus}
                </div>
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                    <span class="font-medium">åç«¯æœåŠ¡ (localhost:3002)</span>
                    ${backendStatus}
                </div>
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                    <span class="font-medium">æ•°æ®æ¨¡å¼</span>
                    <span class="text-blue-600">æ¨¡æ‹Ÿæ•°æ®</span>
                </div>
            `;
        }

        // åˆå§‹åŒ–
        window.onload = function() {
            updateServiceStatus();
            updateProgress();
            log('æµ‹è¯•å·¥å…·å·²å°±ç»ª', 'success');
        };
    </script>
</body>
</html>
