# ä¼šå‘˜ä½“ç³» - é¡¹ç›®å¯åŠ¨æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

ä¼šå‘˜ä½“ç³»æ˜¯æ•°æ™ºæœåŠ¡æ¸¯å¹³å°çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œä¸ºç”¨æˆ·æä¾›ä»»åŠ¡è®¤é¢†ã€å›æŠ¥åˆ†é…ã€äº§å“å¯¹æ¥ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½

1. **ä¼šå‘˜æ³¨å†Œä¸è®¤è¯**
   - ä¼šå‘˜æ³¨å†Œ/ç™»å½•
   - å®åè®¤è¯
   - æŠ€èƒ½è®¤è¯
   - ä¼šå‘˜ç­‰çº§ä½“ç³»

2. **ä¼šå‘˜ä¸ªäººä¸­å¿ƒ**
   - ä¸ªäººèµ„æ–™ç®¡ç†
   - æŠ€èƒ½ç®¡ç†
   - ä»»åŠ¡ç®¡ç†
   - æ”¶ç›Šç®¡ç†

3. **äº§å“æµè§ˆä¸è®¤é¢†**
   - ä»»åŠ¡æµè§ˆ
   - ä»»åŠ¡è®¤é¢†
   - ä»»åŠ¡æ‰§è¡Œä¸äº¤ä»˜

4. **ä»»åŠ¡å›æŠ¥æœºåˆ¶**
   - å›æŠ¥ç±»å‹ç®¡ç†
   - å›æŠ¥è®¡ç®—ä¸å‘æ”¾
   - æ”¶ç›Šç»Ÿè®¡

5. **ä¿¡ç”¨è¯„ä»·ç³»ç»Ÿ**
   - ä¿¡ç”¨è¯„åˆ†
   - è¯„ä»·ç®¡ç†
   - ç”³è¯‰æœºåˆ¶

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# åç«¯ä¾èµ–
cd backend
npm install

# å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

### 2. é…ç½®æ•°æ®åº“

åˆ›å»ºæ•°æ®åº“å¹¶æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š

```bash
mysql -u root -p
CREATE DATABASE member_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE member_system;
SOURCE database/init.sql;
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼š

```env
PORT=3001
NODE_ENV=development

DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=member_system

JWT_SECRET=your_jwt_secret_key_change_this_in_production
```

**é‡è¦**: è¯·å°† `your_password` æ›¿æ¢ä¸ºå®é™…çš„ MySQL å¯†ç ï¼Œå°† `your_jwt_secret_key_change_this_in_production` æ›¿æ¢ä¸ºå¼ºå¯†ç ã€‚

### 4. åˆ›å»ºä¸Šä¼ ç›®å½•

```bash
cd backend
mkdir -p uploads
```

### 5. å¯åŠ¨é¡¹ç›®

#### æ–¹å¼ä¸€ï¼šåˆ†åˆ«å¯åŠ¨

**å¯åŠ¨åç«¯æœåŠ¡**

```bash
cd backend
npm run dev
```

åç«¯æœåŠ¡å°†è¿è¡Œåœ¨: http://localhost:3001

**å¯åŠ¨å‰ç«¯æœåŠ¡**

æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
cd frontend
npm run dev
```

å‰ç«¯æœåŠ¡å°†è¿è¡Œåœ¨: http://localhost:5174

#### æ–¹å¼äºŒï¼šä½¿ç”¨ PM2ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨åç«¯
cd backend
pm2 start app.js --name "member-backend"

# å¯åŠ¨å‰ç«¯
cd frontend
pm2 start 'npm run dev' --name "member-frontend"
```

---

## ğŸ“± ä½¿ç”¨æŒ‡å—

### 1. æ³¨å†Œè´¦å·

1. è®¿é—® http://localhost:5174/register
2. å¡«å†™æ³¨å†Œä¿¡æ¯ï¼š
   - ç”¨æˆ·å
   - é‚®ç®±
   - æ‰‹æœºå·
   - å¯†ç 
   - ç¡®è®¤å¯†ç 
3. ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®

### 2. ç™»å½•ç³»ç»Ÿ

1. è®¿é—® http://localhost:5174/login
2. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®

### 3. åˆ›å»ºä¼šå‘˜æ¡£æ¡ˆ

1. ç™»å½•åè·³è½¬åˆ°ä¼šå‘˜ä¸­å¿ƒ
2. ç‚¹å‡»"ä¸ªäººèµ„æ–™"
3. å¡«å†™ä¸ªäººä¿¡æ¯ï¼š
   - æ˜µç§°
   - æ€§åˆ«
   - å¹´é¾„
   - åœ°åŒº
   - è¡Œä¸š
   - ä¸ªäººç®€ä»‹
4. ä¿å­˜ä¸ªäººä¿¡æ¯

### 4. æ·»åŠ æŠ€èƒ½

1. åœ¨ä¼šå‘˜ä¸­å¿ƒç‚¹å‡»"æˆ‘çš„æŠ€èƒ½"
2. ç‚¹å‡»"æ·»åŠ æŠ€èƒ½"æŒ‰é’®
3. å¡«å†™æŠ€èƒ½ä¿¡æ¯ï¼š
   - æŠ€èƒ½åç§°
   - æŠ€èƒ½ç­‰çº§
   - è¯ä¹¦é“¾æ¥
4. ä¿å­˜æŠ€èƒ½

### 5. æµè§ˆä»»åŠ¡

1. è®¿é—®"ä»»åŠ¡å¤§å…"
2. ä½¿ç”¨ç­›é€‰å™¨æŸ¥æ‰¾ä»»åŠ¡ï¼š
   - ä»»åŠ¡ç±»å‹
   - å…³é”®è¯æœç´¢
3. ç‚¹å‡»ä»»åŠ¡æŸ¥çœ‹è¯¦æƒ…

### 6. è®¤é¢†ä»»åŠ¡

1. åœ¨ä»»åŠ¡è¯¦æƒ…é¡µç‚¹å‡»"è®¤é¢†ä»»åŠ¡"
2. å¡«å†™è®¤é¢†ä¿¡æ¯ï¼š
   - è®¤é¢†ç†ç”±
   - æŠ¥ä»·
   - é¢„è®¡å®Œæˆæ—¶é—´
3. æäº¤è®¤é¢†ç”³è¯·

### 7. æŸ¥çœ‹æ”¶ç›Š

1. åœ¨ä¼šå‘˜ä¸­å¿ƒç‚¹å‡»"æˆ‘çš„æ”¶ç›Š"
2. æŸ¥çœ‹æ”¶ç›Šç»Ÿè®¡ï¼š
   - æ€»æ”¶ç›Š
   - å¾…ç»“ç®—é‡‘é¢
   - å·²ç»“ç®—é‡‘é¢
   - ç§¯åˆ†
3. æŸ¥çœ‹å›æŠ¥è®°å½•

### 8. ç”³è¯·æç°

1. åœ¨"æˆ‘çš„æ”¶ç›Š"é¡µé¢
2. ç‚¹å‡»"ç”³è¯·æç°"
3. å¡«å†™æç°ä¿¡æ¯ï¼š
   - æç°é‡‘é¢
   - é“¶è¡Œè´¦å·
   - é“¶è¡Œåç§°
   - è´¦æˆ·å§“å
4. æäº¤æç°ç”³è¯·

---

## ğŸ› ï¸ API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- Base URL: `http://localhost:3001`
- è®¤è¯æ–¹å¼: JWT Bearer Token

### ç”¨æˆ·è®¤è¯

#### æ³¨å†Œ
```
POST /api/auth/register
Content-Type: application/json

{
  "username": "member001",
  "email": "member@example.com",
  "phone": "13800138000",
  "password": "123456",
  "role": "member"
}
```

#### ç™»å½•
```
POST /api/auth/login
Content-Type: application/json

{
  "username": "member001",
  "password": "123456"
}
```

### ä¼šå‘˜ç®¡ç†

#### åˆ›å»ºä¼šå‘˜æ¡£æ¡ˆ
```
POST /api/members/profile
Authorization: Bearer {token}
Content-Type: application/json

{
  "nickname": "å¼ ä¸‰",
  "gender": "male",
  "age": 25,
  "province": "åŒ—äº¬å¸‚",
  "city": "åŒ—äº¬å¸‚",
  "industry": "äº’è”ç½‘",
  "bio": "ä¸ªäººç®€ä»‹..."
}
```

#### è·å–ä¼šå‘˜ä¿¡æ¯
```
GET /api/members/profile
Authorization: Bearer {token}
```

#### æ·»åŠ æŠ€èƒ½
```
POST /api/members/skills
Authorization: Bearer {token}
Content-Type: application/json

{
  "skill_name": "å¸‚åœºè¥é”€",
  "skill_level": 4,
  "certificate_url": "https://..."
}
```

### ä»»åŠ¡ç®¡ç†

#### è·å–ä»»åŠ¡åˆ—è¡¨
```
GET /api/tasks?page=1&pageSize=20&task_type=market&keyword=è°ƒç ”
```

#### è®¤é¢†ä»»åŠ¡
```
POST /api/tasks/:id/claim
Authorization: Bearer {token}
Content-Type: application/json

{
  "claim_reason": "æˆ‘æœ‰ä¸°å¯Œçš„å¸‚åœºè°ƒç ”ç»éªŒ",
  "quote": 5000,
  "estimated_time": "7å¤©"
}
```

#### æ›´æ–°ä»»åŠ¡è¿›åº¦
```
PUT /api/tasks/claims/:id/progress
Authorization: Bearer {token}
Content-Type: application/json

{
  "progress": 50,
  "delivery_url": "https://..."
}
```

### æ”¶ç›Šç®¡ç†

#### è·å–æ”¶ç›Šç»Ÿè®¡
```
GET /api/rewards/statistics
Authorization: Bearer {token}
```

#### ç”³è¯·æç°
```
POST /api/rewards/withdraw
Authorization: Bearer {token}
Content-Type: application/json

{
  "amount": 1000,
  "bank_account": "6222021000000000000",
  "bank_name": "å·¥å•†é“¶è¡Œ",
  "account_name": "å¼ ä¸‰"
}
```

---

## ğŸ“Š æ•°æ®åº“ç»“æ„

### æ ¸å¿ƒæ•°æ®è¡¨

1. **users** - ç”¨æˆ·è¡¨
   - å­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯å’Œè®¤è¯ä¿¡æ¯

2. **members** - ä¼šå‘˜è¡¨
   - å­˜å‚¨ä¼šå‘˜è¯¦ç»†ä¿¡æ¯å’Œä¿¡ç”¨è¯„åˆ†

3. **member_skills** - ä¼šå‘˜æŠ€èƒ½è¡¨
   - å­˜å‚¨ä¼šå‘˜æŠ€èƒ½å’Œè®¤è¯ä¿¡æ¯

4. **member_certifications** - ä¼šå‘˜è®¤è¯è¡¨
   - å­˜å‚¨ä¼šå‘˜å„ç±»è®¤è¯ä¿¡æ¯

5. **member_portfolios** - ä¼šå‘˜ä½œå“é›†è¡¨
   - å­˜å‚¨ä¼šå‘˜ä½œå“å±•ç¤º

6. **task_claims** - ä»»åŠ¡è®¤é¢†è¡¨
   - å­˜å‚¨ä»»åŠ¡è®¤é¢†è®°å½•å’Œè¿›åº¦

7. **reward_records** - å›æŠ¥è®°å½•è¡¨
   - å­˜å‚¨æ”¶ç›Šå’Œæç°è®°å½•

8. **reviews** - è¯„ä»·è¡¨
   - å­˜å‚¨ä¼šå‘˜ä¹‹é—´çš„è¯„ä»·

9. **favorites** - æ”¶è—è¡¨
   - å­˜å‚¨ä¼šå‘˜æ”¶è—çš„ä»»åŠ¡ã€ä¾›åº”å•†ã€äº§å“

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

**é—®é¢˜**: å¯åŠ¨åç«¯æ—¶æç¤ºæ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“ `member_system` å·²åˆ›å»º

### 2. ç«¯å£è¢«å ç”¨

**é—®é¢˜**: å¯åŠ¨æœåŠ¡æ—¶æç¤ºç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :3001  # Windows
lsof -i :3001                  # Mac/Linux

# ç»“æŸè¿›ç¨‹æˆ–ä¿®æ”¹ç«¯å£
```

### 3. JWT Token è¿‡æœŸ

**é—®é¢˜**: API è¯·æ±‚æ—¶æç¤º token æ— æ•ˆ

**è§£å†³æ–¹æ¡ˆ**:
- Token é»˜è®¤æœ‰æ•ˆæœŸä¸º 7 å¤©
- é‡æ–°ç™»å½•è·å–æ–°çš„ token

---

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ

1. **åç«¯**
   - ä½¿ç”¨ async/await å¤„ç†å¼‚æ­¥æ“ä½œ
   - ç»Ÿä¸€é”™è¯¯å¤„ç†
   - ä½¿ç”¨å‚æ•°éªŒè¯

2. **å‰ç«¯**
   - ä½¿ç”¨ Composition API
   - ç»„ä»¶åŒ–å¼€å‘
   - ç»Ÿä¸€çš„é”™è¯¯æç¤º

### Git è§„èŒƒ

- åˆ†æ”¯å‘½åï¼šfeature/åŠŸèƒ½æè¿°ã€bugfix/é—®é¢˜æè¿°
- æäº¤ä¿¡æ¯ï¼štype: subject

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. æ—¥å¿—æ–‡ä»¶ï¼ˆ`logs/` ç›®å½•ï¼‰
2. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. åç«¯ç»ˆç«¯è¾“å‡º

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
