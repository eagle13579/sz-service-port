import{u as w,r as i,c as d,a as t,k,l as p,m as u,v as h,n as _,p as V,q as C,t as f,b as y,d as q,w as M,e as N,s as S,x as j,j as m}from"./index-BeuDXI1d.js";const B={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 to-purple-600 py-12 px-4"},D={class:"max-w-md w-full bg-white rounded-lg shadow-2xl p-8"},U={class:"relative"},L={class:"relative"},R=["type"],T={class:"flex items-center justify-between"},z={class:"flex items-center"},A={key:0,class:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md"},E=["disabled"],P={key:0,class:"fas fa-spinner fa-spin mr-2"},$={class:"text-center mt-6"},H={__name:"Login",setup(F){const b=S(),v=j(),x=w(),s=i({username:"",password:"",remember:!1}),l=i(!1),a=i(!1),o=i(""),c=async()=>{try{a.value=!0,o.value="",await x.login({username:s.value.username,password:s.value.password});const n=v.query.redirect||"/";b.push(n)}catch(n){o.value=n.message||"登录失败，请检查用户名和密码"}finally{a.value=!1}};return(n,e)=>{const g=N("router-link");return m(),d("div",B,[t("div",D,[e[12]||(e[12]=t("div",{class:"text-center mb-8"},[t("i",{class:"fas fa-globe text-primary-600 text-5xl mb-4"}),t("h1",{class:"text-2xl font-bold text-gray-800"},"欢迎回来"),t("p",{class:"text-gray-600 mt-2"},"登录数智服务港账号")],-1)),t("form",{onSubmit:k(c,["prevent"]),class:"space-y-6"},[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"用户名",-1)),t("div",U,[e[4]||(e[4]=t("i",{class:"fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.value.username=r),type:"text",required:"",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"请输入用户名"},null,512),[[h,s.value.username]])])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"密码",-1)),t("div",L,[e[6]||(e[6]=t("i",{class:"fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.value.password=r),type:l.value?"text":"password",required:"",class:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"请输入密码"},null,8,R),[[_,s.value.password]]),t("button",{type:"button",onClick:e[2]||(e[2]=r=>l.value=!l.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[t("i",{class:V(l.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])])]),t("div",T,[t("label",z,[u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>s.value.remember=r),type:"checkbox",class:"rounded text-primary-600 focus:ring-primary-500"},null,512),[[C,s.value.remember]]),e[8]||(e[8]=t("span",{class:"ml-2 text-sm text-gray-600"},"记住我",-1))]),e[9]||(e[9]=t("a",{href:"#",class:"text-sm text-primary-600 hover:text-primary-700"},"忘记密码？",-1))]),o.value?(m(),d("div",A,f(o.value),1)):p("",!0),t("button",{type:"submit",disabled:a.value,class:"w-full bg-primary-600 text-white py-3 rounded-md font-semibold hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[a.value?(m(),d("i",P)):p("",!0),y(" "+f(a.value?"登录中...":"登录"),1)],8,E)],32),t("div",$,[e[11]||(e[11]=t("span",{class:"text-gray-600"},"还没有账号？",-1)),q(g,{to:"/register",class:"text-primary-600 font-semibold hover:text-primary-700 ml-1"},{default:M(()=>[...e[10]||(e[10]=[y(" 立即注册 ",-1)])]),_:1})])])])}}};export{H as default};
