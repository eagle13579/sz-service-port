import{u as V,r as o,c as p,a as e,F as q,y as P,k as U,l as x,m as l,v as y,n as g,p as m,q as M,b as n,t as v,d as N,w as S,e as B,s as D,j as f}from"./index-BeuDXI1d.js";const R={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 to-purple-600 py-12 px-4"},$={class:"max-w-2xl w-full bg-white rounded-lg shadow-2xl p-8"},j={class:"flex space-x-4 mb-6 border-b"},E=["onClick"],F={class:"relative"},T={class:"relative"},z={class:"relative"},A={class:"relative"},L=["type"],G={class:"relative"},H=["type"],I={class:"flex items-start"},J={key:0,class:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md"},K=["disabled"],O={key:0,class:"fas fa-spinner fa-spin mr-2"},Q={class:"text-center mt-6"},Z={__name:"Register",setup(W){const c=D(),w=V(),k=[{label:"会员",value:"member",icon:"fas fa-user"},{label:"供应商",value:"supplier",icon:"fas fa-building"}],s=o({username:"",email:"",phone:"",password:"",confirmPassword:"",role:"member",agree:!1}),i=o(!1),u=o(!1),a=o(!1),d=o(""),h=async()=>{try{if(a.value=!0,d.value="",s.value.password!==s.value.confirmPassword)throw new Error("两次输入的密码不一致");await w.register({username:s.value.username,email:s.value.email,phone:s.value.phone,password:s.value.password,role:s.value.role}),c.push("/login")}catch(b){d.value=b.message||"注册失败，请稍后重试"}finally{a.value=!1}};return(b,t)=>{const C=B("router-link");return f(),p("div",R,[e("div",$,[t[21]||(t[21]=e("div",{class:"text-center mb-8"},[e("i",{class:"fas fa-globe text-primary-600 text-5xl mb-4"}),e("h1",{class:"text-2xl font-bold text-gray-800"},"创建账号"),e("p",{class:"text-gray-600 mt-2"},"加入数智服务港，开启数字化之旅")],-1)),e("div",j,[(f(),p(q,null,P(k,r=>e("button",{key:r.value,onClick:X=>s.value.role=r.value,class:m(["flex-1 py-2 text-center font-medium transition",s.value.role===r.value?"text-primary-600 border-b-2 border-primary-600":"text-gray-600 hover:text-gray-800"])},[e("i",{class:m(r.icon+" mr-2")},null,2),n(" "+v(r.label),1)],10,E)),64))]),e("form",{onSubmit:U(h,["prevent"]),class:"space-y-6"},[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"用户名",-1)),e("div",F,[t[8]||(t[8]=e("i",{class:"fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),l(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.value.username=r),type:"text",required:"",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"请输入用户名"},null,512),[[y,s.value.username]])])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"邮箱",-1)),e("div",T,[t[10]||(t[10]=e("i",{class:"fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.email=r),type:"email",required:"",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"请输入邮箱"},null,512),[[y,s.value.email]])])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"手机号",-1)),e("div",z,[t[12]||(t[12]=e("i",{class:"fas fa-phone absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.phone=r),type:"tel",required:"",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"请输入手机号"},null,512),[[y,s.value.phone]])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"密码",-1)),e("div",A,[t[14]||(t[14]=e("i",{class:"fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),l(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s.value.password=r),type:i.value?"text":"password",required:"",minlength:"6",class:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"请输入密码（至少6位）"},null,8,L),[[g,s.value.password]]),e("button",{type:"button",onClick:t[4]||(t[4]=r=>i.value=!i.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[e("i",{class:m(i.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"确认密码",-1)),e("div",G,[t[16]||(t[16]=e("i",{class:"fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),l(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>s.value.confirmPassword=r),type:u.value?"text":"password",required:"",class:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"请再次输入密码"},null,8,H),[[g,s.value.confirmPassword]]),e("button",{type:"button",onClick:t[6]||(t[6]=r=>u.value=!u.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[e("i",{class:m(u.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])])]),e("div",I,[l(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>s.value.agree=r),type:"checkbox",required:"",class:"mt-1 rounded text-primary-600"},null,512),[[M,s.value.agree]]),t[18]||(t[18]=e("label",{class:"ml-2 text-sm text-gray-600"},[n(" 我已阅读并同意 "),e("a",{href:"#",class:"text-primary-600 hover:text-primary-700"},"《用户协议》"),n(" 和 "),e("a",{href:"#",class:"text-primary-600 hover:text-primary-700"},"《隐私政策》")],-1))]),d.value?(f(),p("div",J,v(d.value),1)):x("",!0),e("button",{type:"submit",disabled:a.value,class:"w-full bg-primary-600 text-white py-3 rounded-md font-semibold hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[a.value?(f(),p("i",O)):x("",!0),n(" "+v(a.value?"注册中...":"注册"),1)],8,K)],32),e("div",Q,[t[20]||(t[20]=e("span",{class:"text-gray-600"},"已有账号？",-1)),N(C,{to:"/login",class:"text-primary-600 font-semibold hover:text-primary-700 ml-1"},{default:S(()=>[...t[19]||(t[19]=[n(" 立即登录 ",-1)])]),_:1})])])])}}};export{Z as default};
